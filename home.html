<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>THE AP HOUSE</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css?family=Dancing+Script|Itim|Lobster|Montserrat:500|Noto+Serif|Nunito|Patrick+Hand|Roboto+Mono:100,100i,300,300i,400,400i,500,500i,700,700i|Roboto+Slab|Saira">
    <style>
        .carousel img {
            height: 370px;
            object-fit: cover;
        }

        .nav-item-custom {
            font-size: 1.1rem;
            font-family: 'Times New Roman', Times, serif;
        }

        /* ABOUT */
        .about-section {
            background-color: #f8f1e4;
            padding: 20px;
        }

        .about-section h2 {
            font-weight: bold;
        }

        .about-section p {
            color: #555;
        }

        .about-section .learn-more-btn {
            color: white;
            border: none;
            padding: 10px 20px;
        }

        .about-header {
            text-align: center;
            background: #f8f1e4;
            padding: 50px;
            font-family: 'Times New Roman', Times, serif;
        }

        .about-header h1 {
            font-size: 3.5rem;
            font-weight: bold;
            font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif;
        }

        /* MENU */
        .menu-header {
            text-align: center;
            background: #f8f1e4;
            padding: 30px;
            font-family: monospace;
        }

        .menu-header h1 {
            font-size: 3.5rem;
            font-weight: bolder;
            font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif;
        }



        .menu-img-wrapper {
            overflow: hidden;
            border-radius: 12px;
        }

        .menu-img {
            transition: transform 0.3s ease;
        }

        .menu-img:hover {
            transform: scale(1.05);
        }

        .btn-outline-dark {
            margin-top: 10px;
            border-radius: 20px;
            padding: 6px 18px;
            font-weight: bold;
        }

        /* RESERVE */
        #reservation {
            position: relative;
            background: url('img/bg.jpg') no-repeat center center/cover;
            padding: 50px;
        }

        #reservation::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.62);
            z-index: 0;
        }

        .reservation-section .container {
            position: relative;
            z-index: 1;
            color: white;
        }

        .reservation-section .container {
            position: relative;
            z-index: 1;
            color: white;
        }

        .reservation-form input,
        .reservation-form button {
            width: 100%;
            margin-bottom: 10px;
        }

        .reservation-form button {
            color: white;
            border: none;
            padding: 10px;
            font-size: 16px;
            border-radius: 5px;
        }

        .col-md-6 h1 {
            font-size: 3.7rem;
            font-weight: bolder;
            color: #e3ba6e;
            font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif;
        }

        .col-md-6 h2 {
            font-size: 2.9rem;
            font-weight: bolder;
            font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
        }



        /* CONTACT */
        .contact-header {
            text-align: center;
            background: #f8f1e4;
            padding: 30px;
            font-family: monospace;
        }

        .contact-header h1 {
            font-size: 3.5rem;
            font-weight: bolder;
            font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif;
        }

        .contact-info {
            text-align: center;
            margin-bottom: 20px;
        }

        .contact-form {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        .contact-section {
            background: #f8f1e4;
            padding: 30px;
        }

        /* Dropdown  */
        .dropdown-menu {
            background-color: #f5eee0;
            border-radius: 10px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
            padding: 8px 0;
            font-family: 'Segoe UI', sans-serif;
        }

        .dropdown-menu .dropdown-item {
            padding: 10px 20px;
            font-size: 1rem;
            transition: background-color 0.2s ease-in-out;
            color: #3d2700;
        }

        .dropdown-menu .dropdown-item:hover {
            background-color: #e3d7c1;
            color: #000;
        }


        /* FOOTER */
        .footer {
            background: #3d2b1f;
            color: white;
            padding: 40px 0;
        }

        .footer a {
            color: white;
            text-decoration: none;
        }

        .footer a:hover {
            text-decoration: underline;
        }

        .footer h4 {
            font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
        }

        /* API */
        .card-body .btn {
            width: 48%;
        }
    </style>
</head>

<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark" style="background-color:#382005">
        <div class="container">
            <a class="navbar-brand"
                style="font-size: 1.8rem;font-family:'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif"
                href="#">
                <i class="fa-solid fa-coffee"></i> THE AP HOUSE
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto align-items-center">
                    <li class="nav-item ">
                        <a class="nav-link nav-item-custom" href="#about">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link nav-item-custom" href="menu.html">Menu</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link nav-item-custom" href="#reservation">Reservation</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link nav-item-custom" href="#contact">Contact</a>
                    </li>
                    <li id="login-nav" class="nav-item nav-item-custom">
                        <a class="nav-link" href="login.html">Login</a>
                    </li>
                    <li class="nav-item ms-4 dropdown d-none" id="account-dropdown">
                        <a class="nav-link dropdown-toggle d-flex align-items-center" href="#" id="userDropdown"
                            role="button" data-bs-toggle="dropdown">
                            <i class="bi bi-person-circle fs-4" style="margin-top: -5px;"></i>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end ">
                            <li><a class="dropdown-item  " id="nav-action-1" href="#">...</a></li>
                            <li><a class="dropdown-item" href="#" onclick="logout()"> <i
                                        class="bi bi-box-arrow-right me-2"></i>Logout</a></li>
                        </ul>
                    </li>
                    <span id="user-role" class=" nav-link fw-semibold d-none nav-item-custom">Admin</span>
                </ul>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Carousel -->
    <div id="carouselExample" class="carousel slide" data-bs-ride="carousel">
        <ol class="carousel-indicators">
            <li data-bs-target="#carouselExample" data-bs-slide-to="0" class="active"></li>
            <li data-bs-target="#carouselExample" data-bs-slide-to="1"></li>
        </ol>
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="img/carousel-1.jpg" class="d-block w-100" alt="Coffee">
            </div>
            <div class="carousel-item">
                <img src="img/bg.jpg" class="d-block w-100" alt="Cafe">
            </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev">
            <span class="carousel-control-prev-icon"></span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next">
            <span class="carousel-control-next-icon"></span>
        </button>
    </div>

    <!-- About Section -->
    <section class="about-header">
        <h5 style="color: #e3ba6e;">ABOUT US</h5>
        <h1 style="color: #3d2700;">Serving Since 2023</h1>
    </section>

    <section id="about" class="about-section">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-5">
                    <h2 style="color: #3d2700; font-family:'Times New Roman', Times, serif">Our Story</h2>
                    <p class="font-italic">"Every great coffee has a story, and ours begins with a passion for
                        perfection."</p>
                    <p>At THE AP HOUSE, we believe that every cup of coffee is more than just a drink—it's an
                        experience. From carefully sourced beans to expertly crafted brews, we bring you the finest
                        flavors, rich aromas, and heartwarming moments. Whether you're here for a morning boost or a
                        peaceful escape, we make every sip unforgettable.</p>
                    <button class="learn-more-btn rounded-lg shadow-lg" style="background-color:#422605">Read
                        More</button>
                </div>
                <div class="col-md-2 text-center">
                    <img src="img/about.png" class="d-block w-100"
                        style="width: 800px; height: 330px; object-fit: cover;">
                </div>
                <div class="col-md-5">
                    <h2 style="color: #3d2700; font-family:'Times New Roman', Times, serif">Our Vision</h2>
                    <p class="font-italic">"Brewing excellence, one cup at a time."</p>
                    <p>We strive to create a place where coffee lovers can gather, connect, and savor the art of coffee.
                        Our vision is to blend tradition with innovation, offering handcrafted coffee that inspires and
                        energizes. Through sustainable sourcing, passionate craftsmanship, and a commitment to quality,
                        we aim to redefine your coffee experience.</p>
                    <button class="learn-more-btn rounded-lg shadow-lg" style="background-color:#422605">Read
                        More</button>
                </div>
            </div>
        </div>
    </section>
    <!-- About Menu & Pricing -->
    <section class="menu-header">
        <h5 style="color: #e3ba6e;">MENU & PRICING</h5>
        <h1 style="color: #3d2700;">AP HOUSE MENU</h1>
    </section>

    <section id="management-section" class="container-fluid p-4" style="background-color: #f8f1e4;">
        <div class="container">
            <div class="row g-4 justify-content-center mb-5">

                <!-- Coffee -->
                <div class="col-12 col-md-4 text-center">
                    <h3 class="fw-bold mb-3" style="color: #a1692e; ">Coffee</h3>
                    <div class="menu-img-wrapper">
                        <img src="img/coffee4.jpg" class="img-fluid rounded shadow menu-img" alt="Coffee">
                    </div>
                    <a href="menu.html#coffee" class="btn btn-outline-dark">MORE</a>
                </div>

                <!-- Tea & Juice -->
                <div class="col-12 col-md-4 text-center">
                    <h3 class="fw-bold mb-3" style="color: #a1692e;">Tea & Juice</h3>
                    <div class="menu-img-wrapper">
                        <img src="img/tea10.jpg" class="img-fluid rounded shadow menu-img" alt="Tea">
                    </div>
                    <a href="menu.html#tea" class="btn btn-outline-dark">MORE</a>
                </div>

                <!-- Matcha -->
                <div class="col-12 col-md-4 text-center">
                    <h3 class="fw-bold mb-3" style="color: #a1692e;">Matcha</h3>
                    <div class="menu-img-wrapper">
                        <img src="img/Matcha-Machiato.jpg" class="img-fluid rounded shadow menu-img" alt="Juice">
                    </div>
                    <a href="menu.html#matcha" class="btn btn-outline-dark">MORE</a>
                </div>

            </div>
        </div>
    </section>

    <!-- Reservation Section -->
    <section id="reservation" class="reservation-section">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-md-6">
                    <h1>20% OFF</h1>
                    <h2>For Online Reservation</h2>
                    <p class="font-italic">"Experience the perfect relaxing space with the finest coffee aromas. Reserve
                        your table online today to secure the ideal spot for you and your loved ones!"</p>
                    <ul>
                        <li>Quick, convenient, guarantee a spot</li>
                        <li>Beautiful ambiance, special dishes, great view.</li>
                        <li>Book your table today and get the discount!</li>
                    </ul>
                </div>
                <div class="col-md-6">
                    <form id="reservationForm" class="reservation-form">
                        <h3 class="text-center mb-3"
                            style="font-weight:bold; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">Book
                            Your Table</h3>
                        <input type="text" id="namef" class="form-control" placeholder="Name">
                        <input type="email" id="emailf" class="form-control" placeholder="Email">
                        <input type="date" id="datef" class="form-control">
                        <input type="time" id="timef" class="form-control">
                        <input type="number" id="numberf" class="form-control" placeholder="Person">
                        <select class="form-control mb-3" id="tableTypef">
                            <option value="" disabled selected>Select Table Type</option>
                            <option value="large-group">Large Group Table (6-10 people)</option>
                            <option value="sofa">Sofa Table</option>
                            <option value="bar">Bar Table (High Stool)</option>
                            <option value="outdoor">Outdoor Table</option>
                        </select>
                        <button type="submit" class="btn" style="background-color: #d4a373;" onclick="book()">Book
                            Now</button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- CONTACT US HEADER -->
    <section class="contact-header">
        <h5 style="color: #e3ba6e;">CONTACT US</h5>
        <h1 style="color: #3d2700;">Feel Free To Contact</h1>
    </section>

    <section id="contact" class="contact-section">
        <div class="container">
            <div class="row">
                <div class="col-md-4 contact-info">
                    <h5><i class="fas fa-map-marker-alt"></i> Address</h5>
                    <p>12 Nguyen Huu Tho , Ho Chi Minh , VietNam</p>
                </div>
                <div class="col-md-4 contact-info">
                    <h5><i class="fas fa-phone"></i> Phone</h5>
                    <p>+84 961 291 250</p>
                </div>
                <div class="col-md-4 contact-info">
                    <h5><i class="fas fa-envelope"></i> Email</h5>
                    <p>QuanAP@gmail.com</p>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <iframe
                        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3920.033019962859!2d106.69676687316866!3d10.731936660016572!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x317528b2747a81a3%3A0x33c1813055acb613!2zxJDhuqFpIGjhu41jIFTDtG4gxJDhu6ljIFRo4bqvbmc!5e0!3m2!1svi!2s!4v1743246442528!5m2!1svi!2s"
                        width="500" height="350" style="border:10px;" allowfullscreen="" loading="lazy"
                        referrerpolicy="no-referrer-when-downgrade"></iframe>
                </div>
                <div class="col-md-6">
                    <div class="contact-form">
                        <h5 class="text-center"
                            style="color: #3d2700; font-family:'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif ;">
                            CONTACT US</h5>
                        <form>
                            <div class="mb-3">
                                <input type="text" class="form-control" placeholder="Your Name" required>
                            </div>
                            <div class="mb-3">
                                <input type="email" class="form-control" placeholder="Your Email" required>
                            </div>
                            <div class="mb-3">
                                <input type="text" class="form-control" placeholder="Subject" required>
                            </div>
                            <div class="mb-3">
                                <textarea class="form-control" rows="3" placeholder="Message" required></textarea>
                            </div>
                            <button type="submit" class="btn btn-warning w-30">Send Message</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-md-3 mb-5">
                    <h4>GET IN TOUCH</h5>
                        <h5><i class="fas fa-map-marker-alt"></i> Address</h5>
                        <p> 12 Nguyen Huu Tho , Ho Chi Minh , VietNam</p>
                        <h5><i class="fas fa-phone"></i> Phone</h5>
                        <p> +84 961 291 250</p>
                        <h5><i class="fas fa-envelope"></i> Email</h5>
                        <p>QuanAP@example.com</p>
                </div>
                <div class="col-md-3 mb-5">
                    <h4>FOLLOW AP HOUSE</h5>
                        <p>Join our community and be part of the journey!</p>
                        <a href="#" class="me-2 mr-4"><i class="fab fa-facebook fa-2x"></i></a>
                        <a href="#" class="me-2 mr-4"><i class="fab fa-instagram fa-2x"></i></a>
                        <a href="#" class="me-2 mr-4"><i class="fab fa-twitter fa-2x"></i></a>
                        <a href="#" class="me-2"><i class="fab fa-youtube fa-2x"></i></a>
                </div>
                <div class="col-md-3 mb-5">
                    <h4>THE AP - OPEN HOURS</h4>
                    <h6>Monday - Friday</h6>
                    <p>8.00 AM - 8.00 PM</p>
                    <h6>Saturday - Sunday</h6>
                    <p>2.00 PM - 8.00 PM</p>
                </div>
                <div class="col-md-3 mb-5">
                    <h4>NEWSLETTER</h4>
                    <p>Subscribe to our newsletter</p>
                    <input type="email" class="form-control mb-2" placeholder="Your Email">
                    <button class="btn btn-warning w-100">Sign Up</button>
                </div>
            </div>
            <div class="text-center">
                <p>Copyright © THE AP HOUSE. All Rights Reserved.</p>
            </div>
        </div>
    </footer>


    <script>

        const API_URL = "http://localhost:3000";

        // BOOKING
        async function book() {

            event.preventDefault();
            const token = localStorage.getItem("token");
            if (!token) {
                alert("You must be logged in to book a tabel.");
                return;
            }

            const name = document.getElementById("namef").value.trim();
            const email = document.getElementById("emailf").value.trim();
            const date = document.getElementById("datef").value.trim();
            const time = document.getElementById("timef").value.trim();
            const person = document.getElementById("numberf").value.trim();
            const tableType = document.getElementById("tableTypef").value.trim();


            if (!name || !email || !date || !time || !person || !tableType) {
                alert(" Please fill in all fields before booking.");
                return;
            }

            const emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
            if (!emailPattern.test(email)) {
                alert("⚠️ Please enter a valid email address.");
                return;
            }

            if (isNaN(person) || person <= 0) {
                alert("⚠️ Number of people must be greater than 0.");
                return;
            }

            const bookingDate = new Date(date);
            const bookingTime = new Date(`${date}T${time}`);

            const dayOfWeek = bookingDate.getDay();

            // Convert time to 24-hour format for easier comparison
            const hours = bookingTime.getHours();
            const minutes = bookingTime.getMinutes();
            const timeInMinutes = hours * 60 + minutes;

            let isValidTime = false;
            if (dayOfWeek >= 1 && dayOfWeek <= 5) {
                // Monday - Friday: 08:00 AM - 08:00 PM 
                if (timeInMinutes >= 480 && timeInMinutes <= 1200) {
                    isValidTime = true;
                }
            } else {
                // Saturday - Sunday: 02:00 PM - 08:00 PM
                if (timeInMinutes >= 840 && timeInMinutes <= 1200) {
                    isValidTime = true;
                }
            }

            if (!isValidTime) {
                alert("⚠️ Booking time is outside of working hours.\n\n🕒 Monday - Friday: 08:00 AM - 08:00 PM\n🕒 Saturday - Sunday: 02:00 PM - 08:00 PM");
                return;
            }

            localStorage.setItem("bookingName", name);
            localStorage.setItem("bookingEmail", email);
            localStorage.setItem("bookingDate", date);
            localStorage.setItem("bookingTime", time);
            localStorage.setItem("bookingPerson", person);
            localStorage.setItem("bookingTable", tableType);
            window.location.href = "booking.html";
        };


        function updateNavbar() {
            const token = localStorage.getItem("token");
            const loginNav = document.getElementById("login-nav");
            const accountDropdown = document.getElementById("account-dropdown");
            const actionItem = document.getElementById("nav-action-1");

            if (token) {
                const payload = JSON.parse(atob(token.split(".")[1]));
                loginNav.classList.add("d-none");
                accountDropdown.classList.remove("d-none");

                if (payload.role === "admin") {
                    actionItem.innerHTML = '<i class="bi bi-gear me-2"></i>Setting';
                    actionItem.href = "admin.html";

                    const roleLabel = document.getElementById("user-role");
                    if (roleLabel) {
                        roleLabel.classList.remove("d-none");
                        roleLabel.textContent = "Admin";
                    }
                } else {
                    actionItem.innerHTML = '<i class="bi bi-cart3 me-2"></i>My Cart';
                    actionItem.href = "my_order.html";
                }
            } else {
                loginNav.classList.remove("d-none");
                accountDropdown.classList.add("d-none");
            }
        }

        function logout() {
            localStorage.removeItem("token");
            window.location.reload();
        }

        document.addEventListener("DOMContentLoaded", () => {
            updateNavbar();
        });



    </script>

</body>

</html>